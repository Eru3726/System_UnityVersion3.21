/*はじめに*/
チーム制作などにおいて、敵のデータを変更したいけど担当者以外、
変数等が分からない事などはよくあると思います。
そのためコメント文や変数名を分かりやすいものにするのが大切ですが、
それでもプログラムが得意ではない人やデザイナーは変更が難しいと思います。
そこで誰でも直感的にデータを変更できるエディターを自作しました。
参考にしていただければ幸いです。



/*注意事項*/
データが消えたりしても一切の責任を負いません。
使用する際は自己責任でお願いします。
今回の内容は大変難しい内容になっています。
そのため、一部のみ説明させていただきます。
もし、自作エディターの作り方など知りたい方は、
DiscordのDMで直接聞いてくだされば、できる限りのサポートはします。



/*DebugEditorSceneの使い方*/
1280 × 720 に解像度を変更してください。
DataBaseウィンドウを開いてない場合は、Unity上の上のファイルなどがある欄の
"Editor"の中の"DataBase"を開いくかレイアウトが入っていますので読み込んでおいてください。
ボタンを押すとそのキャラやアイテムのデータが画面に表示されます。
敵のデータとアイテムデータが3つずつ用意されています。
（スライム、ゾンビ、コウモリ、小回復P、中回復P、大回復P）
各種ボタンを押すとそれぞれのデータが読み込まれます。
DataBaseウィンドウの中にあるデータを変更すると即時反映されます。


/*ScriptableObjectとは*/
ゲームやアプリの中で変化せず、あちこちで共用するデータを格納する時に便利なクラスです。
例えば、敵のパラメータがよく例として挙げられています。
public static int MaxHP = 100;
このように敵のパラメータを書くことができますが、これだと敵が画面上にいなくても
メモリを大量に使用してしまい、バグやゲームが完成した時に重くなる原因になります。
ScriptableObjectを継承したパラメータ定義用クラスを作成し、
Unityのアセットとして扱うことでその敵が出てこないときはメモリの確保が行われません。
つまり、無駄なメモリを確保しなくて良くなりバグや重くなりづらくなります。
また、コンフリクトもしづらく、値の調整も行いやすくなります。
このように、マスターデータの更新の頻度がそこまで高くなく、
ゲーム内に組み込みたい場合にはScriptableObjectは役に立ちます。



/*ProjectにDataBaseEditorの使用方法*/
＜使い方＞
あらかじめDataBase.assetにEnemyとItemのデータがアタッチされていると思いますが、
アタッチされていなかった場合はアタッチしてください。
DataBase.assetはScriptableObjectファイル内にあります。
次に、Unity上で上の方にあるEditor欄からDataBaseウィンドウを開いてください。
ウィンドウ内のReferenceの欄にDataBaseを入れる欄が用意されています。
そこにDataBase.assetをアタッチしてください。
アタッチするとEnemys欄とItems欄にデータが追加されるので
そこでデータを変更してください。
実際に敵キャラなどを出すときにScriptableObjectを参照しますが、
参照方法はDebugScript.csを参考にしてください。

＜敵キャラを増やす方法＞
Enemy.csの20行目 Bad, の下に追加したいキャラ名を書いてください。
敵のステータスなどを増やしたい場合はEnemy.csに8行目を参考に新たに変数を追加してください。
次に、Unity上で右クリック→作成→DataBase→CreateEnemyをクリックしてください。
名前はキャラ名にしてください。
DataBase.assetを選択しインスペクター上でEnemysの要素を増やし、
そこに今作ったものをアタッチしてください。
これでDataBaseウィンドウから個々のデータを編集できるようになります。
アイテムも同じように増やすことが可能です。

＜敵やアイテム以外のデータを増やす方法＞
今回は例として武器を増やす方法を説明します。
まず初めにWeapon.csを作成してください。
Weapon.scの中身はTemplate.txtを参考にしてください。
次に、DataBase.csに新たにWeaponのListを作成します。
下の1行をDataBase.csに追加してください。

public List<Weapon> weapons = new List<Weapon>();

次に、DataBaseEditor.csを編集していきます。
こちらは編集箇所が多いのでTemplate.txtを参考にしてください。
最後に、DataBase.assetに＜敵キャラを増やす方法＞を参考にして武器を増やしてください。



/*更新履歴*/
v1.0.0 DataBaseEditorの主な機能完成		22.12.18.12. 5

v1.1.0 バグ修正、レイアウト変更			22.12.19. 5.15

v1.1.1 レイアウト変更、Readmeの編集		22.12.19.14.51

v1.2.0 レイアウト変更、DataBaseの追加
	　 それに伴いDataBaseEditorの編集
	　 Readmeの編集、バグ対策			22.12.20.12.46

v1.3.0 書き込みボタンの追加
	　 DataBaseの参照を自動化
	   バグ修正							23.02.02.23:28

v1.3.1 レイアウト修正					23.08.17.12:51

v1.4.0 文字コード変更					23.09.28.12:33



/*参考サイト*/
https://qiita.com/shirasaya0201/items/ee32f35ad3caac428368
https://zenn.dev/kumas/books/325ed71592f6f5/viewer/78e9eb
https://alterbo.jp/blog/o-r-16/
https://www.hanachiru-blog.com/entry/2022/05/26/120000
https://xr-hub.com/archives/14809
https://qiita.com/4_mio_11/items/a7d8967b853cef4385cd
https://tsubakit1.hateblo.jp/entry/20140322/1395476579
https://qiita.com/r1ck_gamer/items/f2c98f2acabf2f8f621b